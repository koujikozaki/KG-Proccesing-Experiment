<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>アノテーションSample:Ex.1-2</title>

<script>
window.addEventListener('load', () => {
	const anotateButton = document.getElementById('anotate');
	const resultArea = document.getElementById('result_div');
    var data = 
    [
    {"item":"https://www.wikidata.org/entity/Q120730","itemLabel":"京都府"},
    {"item":"https://www.wikidata.org/entity/Q122723","itemLabel":"大阪府"},
    {"item":"https://www.wikidata.org/entity/Q130290","itemLabel":"兵庫県"}
    ];

	anotateButton.addEventListener('click', () => {
		var textINPUT = document.getElementById('input_text').value;

		for (var i=0;i<data.length;i++){
			textINPUT = textINPUT.replaceAll(data[i].itemLabel,
                '<b><a href="'+data[i].item	+'" target="kg">'
                +data[i].itemLabel+'</a></b>');
		}	

        resultArea.innerHTML = '<H2>アノテーション結果</H2>'
			+ textINPUT + '<br><H2>リンク先の表示</H2>'
			+'<iframe id="kg" name="kg" width=900" height="500"></iframe>;';	
	}, false);
}, false);
</script>
</head>

<body>
<h1>アノテーションSample:Ex.1-2</h1>
<hr>
<textarea id="input_text" cols="100" rows="5">
近畿地方（きんきちほう）は、本州中西部に位置する日本の地域である。「関西地方（かんさいちほう）」ともいう。かつて令制国における畿内とその周辺地域から構成される。難波宮、平城宮、平安宮以降東京奠都までの王城の地で、今日でも関東地方に次ぐ日本第二の都市圏・経済圏であり、西日本の中核である。

近畿地方の範囲について法律上の明確な定義はないが[注釈 1]、主要な百科事典では大阪府・京都府・兵庫県・奈良県・三重県・滋賀県・和歌山県の2府5県（7府県）を指すことが多く[2]、当項でも特記がある場合を除いてこの範囲で説明する。尚、三重県については東海地方にも含まれる。

（「https://ja.wikipedia.org/wiki/近畿地方」より引用）</textarea>
<br>
<button id="anotate">アノテーション実行</button>
<div id="result_div"></div>
</body>

</html>
